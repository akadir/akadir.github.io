<!DOCTYPE html>
<html lang="en">

<head>
    <title>Password encryption in settings.xml via maven</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="apple-touch-icon" sizes="180x180" href="/includes/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/includes/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/includes/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="/includes/favicon_io/site.webmanifest">
    <link rel="stylesheet" href="/includes/css/stylesheet.css">
</head>

<body>
    <a id="top"></a>
    <header>
        <nav>
            <div class="back-home">
                <a title="Anasayfa" href="/">←<span>Anasayfa</span></a>
            </div>
        </nav>
    </header>
    <section>
        <h1>Password encryption in settings.xml via maven</h1>
        <div class="posted-by">Posted on 2019-10-15</div>
        <div class="abstract">Encrypt passwords used in settings.xml to prevent plaintext password usage</div>

        <p>Let's say you are making your developments behind corporate proxy and you need to configure your maven
            settings according to this proxy configurations but at the same time you don't want to type your password as
            plain-text in your settings.xml because of the security considerations.
        </p>

        <p>In order to solve this problem first you need to generate master password to store in settings-security.xml
            as following structure:
        </p>

        <pre><code><xmp><settingsSecurity>
    <master>{rsB56BJcqoEHZqEZ0R1VR4TIspmODx1Ln8/PVvsgaGw=}</master>
</settingsSecurity>
</xmp></code></pre>

        <p>To generate this master password you need to run this command: </p>
        <pre><code>$ mvn -emp mypassword
{rsB56BJcqoEHZqEZ0R1VR4TIspmODx1Ln8/PVvsgaGw=}</code></pre>

        <p>After running the command you will get your master password.</p>

        <p>And then you need to encrypt your user password. To do this simply running below command will be enough:
            (Let's say your password is: loremIpsum)</p>

        <pre><code>$ mvn -ep loremIpsum
{7SX3V+1VIcEHBN9GukeB+dwz5e5GLHHzXe2xinPsjLE=}</code></pre>

        <p>This command will generate your encrypted password. You can now use your encrypted password in your
            settings.xml file:</p>

        <pre><code><xmp>...
<proxies>
    <proxy>
    <id>example-proxy</id>
    <active>true</active>
    <protocol>http</protocol>
    <host>proxy.yourcorporate.com</host>
    <port>8080</port>
    <username>yourUsername</username>
    <password>{7SX3V+1VIcEHBN9GukeB+dwz5e5GLHHzXe2xinPsjLE=}</password>
    <nonProxyHosts>localhost|127.0.0.1</nonProxyHosts>
    </proxy>
</proxies>
...</xmp></code></pre>
        <div class="divider div-transparent div-arrow-down"></div>

        <p>references and further readings:</p>
        <p>
            <a href="https://blog.sonatype.com/2009/10/maven-tips-and-tricks-encrypting-passwords/" target="_blank">- https://blog.sonatype.com/2009/10/maven-tips-and-tricks-encrypting-passwords/</a><br>
            <a href="http://maven.apache.org/guides/mini/guide-encryption.html" target="_blank">- http://maven.apache.org/guides/mini/guide-encryption.html</a><br>
        </p>
        <div class="divider div-transparent"></div>

        <a href="#top" style="display: block; float:right; padding-bottom:1rem;">Başa Dön ↑</a>
    </section>
</body>

</html>
